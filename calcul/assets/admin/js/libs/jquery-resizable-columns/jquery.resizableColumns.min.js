var __bind=function(n,t){return function(){return n.apply(t,arguments)}},__slice=[].slice;(function(n,t){var f,r,u,i;return r=function(n){return parseFloat(n.style.width.replace("%",""))},i=function(n,t){return t=t.toFixed(2),t=t>0?t:0,n.style.width=""+t+"%"},u=function(n){return n.type.indexOf("touch")===0?(n.originalEvent.touches[0]||n.originalEvent.changedTouches[0]).pageX:n.pageX},f=function(){function f(i,r){this.pointerdown=__bind(this.pointerdown,this);this.constrainWidth=__bind(this.constrainWidth,this);this.options=n.extend({},this.defaults,r);this.$table=i;this.setHeaders();this.restoreColumnWidths();this.syncHandleWidths();n(t).on("resize.rc",function(n){return function(){return n.syncHandleWidths()}}(this));if(this.options.start)this.$table.on("column:resize:start.rc",this.options.start);if(this.options.resize)this.$table.on("column:resize.rc",this.options.resize);if(this.options.stop)this.$table.on("column:resize:stop.rc",this.options.stop)}return f.prototype.defaults={selector:"tr th:visible",store:t.store,syncHandlers:!0,resizeFromBody:!0,maxWidth:null,minWidth:null},f.prototype.triggerEvent=function(t,i,r){var u;return u=n.Event(t),u.originalEvent=n.extend({},r),this.$table.trigger(u,[this].concat(i||[]))},f.prototype.getColumnId=function(n){return this.$table.data("resizable-columns-id")+"-"+n.data("resizable-column-id")},f.prototype.setHeaders=function(){return this.$tableHeaders=this.$table.find(this.options.selector),this.assignPercentageWidths(),this.createHandles()},f.prototype.destroy=function(){var i;return n(this.$table.attr("ownerDocument")).off(".rc"),this.$handleContainer.find(".rc-handle").each(function(){return function(t,i){var r;return r=n(i),r.removeData("th"),r.off("mousedown touchstart")}}(this)),this.$handleContainer.remove(),this.$handleContainer=null,this.$table.removeData("resizableColumns"),this.$table.add(t).off(".rc"),this.$tableHeaders=null,i=this.$table,this.$table=null,i},f.prototype.assignPercentageWidths=function(){return this.$tableHeaders.each(function(t){return function(r,u){var f;return f=n(u),i(f[0],f.outerWidth()/t.$table.width()*100)}}(this))},f.prototype.createHandles=function(){var t;(t=this.$handleContainer)!=null&&t.remove();this.$table.before(this.$handleContainer=n("<div class='rc-handle-container' />"));this.$tableHeaders.each(function(t){return function(i,r){var u;if(t.$tableHeaders.eq(i+1).length!==0&&t.$tableHeaders.eq(i).attr("data-noresize")==null&&t.$tableHeaders.eq(i+1).attr("data-noresize")==null)return u=n("<div class='rc-handle' />"),u.data("th",n(r)),u.appendTo(t.$handleContainer)}}(this));return this.$handleContainer.on("mousedown touchstart",".rc-handle",this.pointerdown)},f.prototype.syncHandleWidths=function(){return this.$handleContainer.width(this.$table.width()).find(".rc-handle").each(function(t){return function(i,r){var u;return u=n(r),u.css({left:u.data("th").outerWidth()+(u.data("th").offset().left-t.$handleContainer.offset().left),height:t.options.resizeFromBody?t.$table.height():t.$table.find("thead").height()})}}(this))},f.prototype.saveColumnWidths=function(){return this.$tableHeaders.each(function(t){return function(i,u){var f;return f=n(u),f.attr("data-noresize")==null&&t.options.store!=null?t.options.store.set(t.getColumnId(f),r(f[0])):void 0}}(this))},f.prototype.restoreColumnWidths=function(){return this.$tableHeaders.each(function(t){return function(r,u){var f,e;return f=n(u),t.options.store!=null&&(e=t.options.store.get(t.getColumnId(f)))?i(f[0],e):void 0}}(this))},f.prototype.totalColumnWidths=function(){var t;return t=0,this.$tableHeaders.each(function(){return function(i,r){return t+=parseFloat(n(r)[0].style.width.replace("%",""))}}(this)),t},f.prototype.constrainWidth=function(n){return this.options.minWidth!=null&&(n=Math.max(this.options.minWidth,n)),this.options.maxWidth!=null&&(n=Math.min(this.options.maxWidth,n)),n},f.prototype.pointerdown=function(t){var h,f,c,o,e,l,s;t.preventDefault();c=n(t.currentTarget.ownerDocument);l=u(t);h=n(t.currentTarget);f=h.data("th");o=this.$tableHeaders.eq(this.$tableHeaders.index(f)+1);s={left:r(f[0]),right:r(o[0])};e={left:s.left,right:s.right};this.$handleContainer.add(this.$table).addClass("rc-table-resizing");f.add(o).add(h).addClass("rc-column-resizing");this.triggerEvent("column:resize:start",[f,o,e.left,e.right],t);c.on("mousemove.rc touchmove.rc",function(n){return function(t){var r;return r=(u(t)-l)/n.$table.width()*100,i(f[0],e.left=n.constrainWidth(s.left+r)),i(o[0],e.right=n.constrainWidth(s.right-r)),n.options.syncHandlers!=null&&n.syncHandleWidths(),n.triggerEvent("column:resize",[f,o,e.left,e.right],t)}}(this));return c.one("mouseup.rc touchend.rc",function(n){return function(){return c.off("mousemove.rc touchmove.rc"),n.$handleContainer.add(n.$table).removeClass("rc-table-resizing"),f.add(o).add(h).removeClass("rc-column-resizing"),n.syncHandleWidths(),n.saveColumnWidths(),n.triggerEvent("column:resize:stop",[f,o,e.left,e.right],t)}}(this))},f}(),n.fn.extend({resizableColumns:function(){var i,t;return t=arguments[0],i=2<=arguments.length?__slice.call(arguments,1):[],this.each(function(){var u,r;return u=n(this),r=u.data("resizableColumns"),r||u.data("resizableColumns",r=new f(u,t)),typeof t=="string"?r[t].apply(r,i):void 0})}})})(window.jQuery,window)