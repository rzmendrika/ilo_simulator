wysihtml.commands.alignCenterStyle=function(){var a={styleProperty:"textAlign",styleValue:"center",toggle:!0};return{exec:function(c,b){return wysihtml.commands.formatBlock.exec(c,"formatBlock",a)},state:function(c,b){return wysihtml.commands.formatBlock.state(c,"formatBlock",a)}}}();
wysihtml.commands.alignJustifyStyle=function(){var a={styleProperty:"textAlign",styleValue:"justify",toggle:!0};return{exec:function(c,b){return wysihtml.commands.formatBlock.exec(c,"formatBlock",a)},state:function(c,b){return wysihtml.commands.formatBlock.state(c,"formatBlock",a)}}}();
wysihtml.commands.alignLeftStyle=function(){var a={styleProperty:"textAlign",styleValue:"left",toggle:!0};return{exec:function(c,b){return wysihtml.commands.formatBlock.exec(c,"formatBlock",a)},state:function(c,b){return wysihtml.commands.formatBlock.state(c,"formatBlock",a)}}}();
wysihtml.commands.alignRightStyle=function(){var a={styleProperty:"textAlign",styleValue:"right",toggle:!0};return{exec:function(c,b){return wysihtml.commands.formatBlock.exec(c,"formatBlock",a)},state:function(c,b){return wysihtml.commands.formatBlock.state(c,"formatBlock",a)}}}();
wysihtml.commands.bgColorStyle=function(){return{exec:function(a,c,b){if(b=wysihtml.quirks.styleParser.parseColor("background-color:"+(b.color||b),"background-color"))b=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")",wysihtml.commands.formatInline.exec(a,c,{styleProperty:"backgroundColor",styleValue:b})},state:function(a,c,b){b=b?wysihtml.quirks.styleParser.parseColor("background-color:"+(b.color||b),"background-color"):null;var d;b&&(d=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):
"rgba("+b.join(", "))+")");return wysihtml.commands.formatInline.state(a,c,{styleProperty:"backgroundColor",styleValue:d})},remove:function(a,c){return wysihtml.commands.formatInline.remove(a,c,{styleProperty:"backgroundColor"})},stateValue:function(a,c,b){(a=this.state(a,c))&&wysihtml.lang.object(a).isArray()&&(a=a[0]);return a&&(a=a.getAttribute("style"))?(a=wysihtml.quirks.styleParser.parseColor(a,"background-color"),wysihtml.quirks.styleParser.unparseColor(a,b)):!1}}}();
wysihtml.commands.bold=function(){var a={nodeName:"B",toggle:!0};return{exec:function(c,b){wysihtml.commands.formatInline.exec(c,b,a)},state:function(c,b){return wysihtml.commands.formatInline.state(c,b,a)}}}();
wysihtml.commands.formatCode=function(){return{exec:function(a,c,b){var d=this.state(a)[0];if(d)a.selection.executeAndRestore(function(){e=d.querySelector("code");wysihtml.dom.replaceWithChildNodes(d);e&&wysihtml.dom.replaceWithChildNodes(e)});else{c=a.selection.getRange();var f=c.extractContents();d=a.doc.createElement("pre");var e=a.doc.createElement("code");b&&(e.className=b);d.appendChild(e);e.appendChild(f);c.insertNode(d);a.selection.selectNode(d)}},state:function(a){return(a=a.selection.getSelectedNode())&&
a.nodeName&&"PRE"==a.nodeName&&a.firstChild&&a.firstChild.nodeName&&"CODE"==a.firstChild.nodeName?[a]:(a=wysihtml.dom.getParentElement(a,{query:"pre code"}))?[a.parentNode]:!1}}}();
wysihtml.commands.insertImage=function(){return{exec:function(a,c,b){b="object"===typeof b?b:{src:b};var d=a.doc;if((c=this.state(a))&&!b.src)a.selection.setBefore(c),b=c.parentNode,b.removeChild(c),wysihtml.dom.removeEmptyTextNodes(b),"A"!==b.nodeName||b.firstChild||(a.selection.setAfter(b),b.parentNode.removeChild(b)),wysihtml.quirks.redraw(a.element);else if(c)for(var f in b)b.hasOwnProperty(f)&&c.setAttribute("className"===f?"class":f,b[f]);else{c=d.createElement("IMG");for(var e in b)c.setAttribute("className"===
e?"class":e,b[e]);a.selection.insertNode(c);wysihtml.browser.hasProblemsSettingCaretAfterImg()?(b=d.createTextNode(wysihtml.INVISIBLE_SPACE),a.selection.insertNode(b),a.selection.setAfter(b)):a.selection.setAfter(c)}},state:function(a){if(!wysihtml.dom.hasElementWithTagName(a.doc,"IMG"))return!1;var c=a.selection.getSelectedNode();if(!c)return!1;if("IMG"===c.nodeName)return c;if(c.nodeType!==wysihtml.ELEMENT_NODE)return!1;c=a.selection.getText();if(c=wysihtml.lang.string(c).trim())return!1;a=a.selection.getNodes(wysihtml.ELEMENT_NODE,
function(a){return"IMG"===a.nodeName});return 1!==a.length?!1:a[0]}}}();wysihtml.commands.fontSize=function(){var a=/wysiwyg-font-size-[0-9a-z\-]+/g;return{exec:function(c,b,d){wysihtml.commands.formatInline.exec(c,b,{className:"wysiwyg-font-size-"+d,classRegExp:a,toggle:!0})},state:function(a,b,d){return wysihtml.commands.formatInline.state(a,b,{className:"wysiwyg-font-size-"+d})}}}();
wysihtml.commands.fontSizeStyle=function(){return{exec:function(a,c,b){b=b.size||b;/^\s*$/.test(b)||wysihtml.commands.formatInline.exec(a,c,{styleProperty:"fontSize",styleValue:b,toggle:!1})},state:function(a,c,b){return wysihtml.commands.formatInline.state(a,c,{styleProperty:"fontSize",styleValue:b||void 0})},remove:function(a,c){return wysihtml.commands.formatInline.remove(a,c,{styleProperty:"fontSize"})},stateValue:function(a,c){(a=this.state(a,c))&&wysihtml.lang.object(a).isArray()&&(a=a[0]);
return a&&(a=a.getAttribute("style"))?wysihtml.quirks.styleParser.parseFontSize(a):!1}}}();wysihtml.commands.foreColor=function(){var a=/wysiwyg-color-[0-9a-z]+/g;return{exec:function(c,b,d){wysihtml.commands.formatInline.exec(c,b,{className:"wysiwyg-color-"+d,classRegExp:a,toggle:!0})},state:function(a,b,d){return wysihtml.commands.formatInline.state(a,b,{className:"wysiwyg-color-"+d})}}}();
wysihtml.commands.foreColorStyle=function(){return{exec:function(a,c,b){b&&(b=wysihtml.quirks.styleParser.parseColor("color:"+(b.color||b),"color"))&&(b=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")",wysihtml.commands.formatInline.exec(a,c,{styleProperty:"color",styleValue:b}))},state:function(a,c,b){b=b?wysihtml.quirks.styleParser.parseColor("color:"+(b.color||b),"color"):null;var d;b&&(d=(1===b[3]?"rgb("+[b[0],b[1],b[2]].join(", "):"rgba("+b.join(", "))+")");return wysihtml.commands.formatInline.state(a,
c,{styleProperty:"color",styleValue:d})},remove:function(a,c){return wysihtml.commands.formatInline.remove(a,c,{styleProperty:"color"})},stateValue:function(a,c,b){(a=this.state(a,c))&&wysihtml.lang.object(a).isArray()&&(a=a[0]);return a&&(a=a.getAttribute("style"))?(a=wysihtml.quirks.styleParser.parseColor(a,"color"),wysihtml.quirks.styleParser.unparseColor(a,b)):!1}}}();
wysihtml.commands.insertBlockQuote=function(){var a={nodeName:"BLOCKQUOTE",toggle:!0};return{exec:function(c,b){return wysihtml.commands.formatBlock.exec(c,"formatBlock",a)},state:function(c,b){return wysihtml.commands.formatBlock.state(c,"formatBlock",a)}}}();
wysihtml.commands.insertHorizontalRule=function(){return{exec:function(a){var c=a.selection.getSelectedNode();c=wysihtml.dom.getParentElement(c,{query:wysihtml.PERMITTED_PHRASING_CONTENT_ONLY},null,a.editableArea);var b=document.createElement("hr");c?a.selection.splitElementAtCaret(c,b):a.selection.insertNode(b);b.nextSibling?a.selection.setBefore(b.nextSibling):a.selection.setAfter(b)},state:function(){return!1}}}();
wysihtml.commands.insertOrderedList=function(){return{exec:function(a,c){wysihtml.commands.insertList.exec(a,c,"OL")},state:function(a,c){return wysihtml.commands.insertList.state(a,c,"OL")}}}();wysihtml.commands.insertUnorderedList=function(){return{exec:function(a,c){wysihtml.commands.insertList.exec(a,c,"UL")},state:function(a,c){return wysihtml.commands.insertList.state(a,c,"UL")}}}();
wysihtml.commands.italic=function(){var a={nodeName:"I",toggle:!0};return{exec:function(c,b){wysihtml.commands.formatInline.exec(c,b,a)},state:function(c,b){return wysihtml.commands.formatInline.state(c,b,a)}}}();
wysihtml.commands.justifyCenter=function(){var a={className:"wysiwyg-text-align-center",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};return{exec:function(c,b){return wysihtml.commands.formatBlock.exec(c,"formatBlock",a)},state:function(c,b){return wysihtml.commands.formatBlock.state(c,"formatBlock",a)}}}();
wysihtml.commands.justifyFull=function(){var a={className:"wysiwyg-text-align-justify",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};return{exec:function(c,b){return wysihtml.commands.formatBlock.exec(c,"formatBlock",a)},state:function(c,b){return wysihtml.commands.formatBlock.state(c,"formatBlock",a)}}}();
wysihtml.commands.justifyLeft=function(){var a={className:"wysiwyg-text-align-left",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};return{exec:function(c,b){return wysihtml.commands.formatBlock.exec(c,"formatBlock",a)},state:function(c,b){return wysihtml.commands.formatBlock.state(c,"formatBlock",a)}}}();
wysihtml.commands.justifyRight=function(){var a={className:"wysiwyg-text-align-right",classRegExp:/wysiwyg-text-align-[0-9a-z]+/g,toggle:!0};return{exec:function(c,b){return wysihtml.commands.formatBlock.exec(c,"formatBlock",a)},state:function(c,b){return wysihtml.commands.formatBlock.state(c,"formatBlock",a)}}}();
wysihtml.commands.subscript=function(){var a={nodeName:"SUB",toggle:!0};return{exec:function(c,b){wysihtml.commands.formatInline.exec(c,b,a)},state:function(c,b){return wysihtml.commands.formatInline.state(c,b,a)}}}();wysihtml.commands.superscript=function(){var a={nodeName:"SUP",toggle:!0};return{exec:function(c,b){wysihtml.commands.formatInline.exec(c,b,a)},state:function(c,b){return wysihtml.commands.formatInline.state(c,b,a)}}}();
wysihtml.commands.underline=function(){var a={nodeName:"U",toggle:!0};return{exec:function(c,b){wysihtml.commands.formatInline.exec(c,b,a)},state:function(c,b){return wysihtml.commands.formatInline.state(c,b,a)}}}();
